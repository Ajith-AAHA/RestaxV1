
<div class="row">
    <div class="col-lg-12">
      <nb-card class="step-content">
        
        <nb-card-body>
          <p><b>Department of Mechanical Engineering</b></p>
          <p> This page is used to manipulate your institues Department/ Grade Database.<br></p>
          <div class="buttons-row">
            <button *ngFor="let status of statuses" nbButton [status]="status" hero>
              {{ status }}
            </button>
            <button primary nbButton hero>
              Faculties
            </button>
            <button primary nbButton hero>
               Students
              </button>
              <button primary nbButton hero>
                  Papers
                </button>
                <button primary nbButton hero>
                    Exams
                  </button>
                  <button primary nbButton hero>
                      Archive
                    </button>
          </div>
        </nb-card-body>
      </nb-card>
      </div>
      </div>

    <div class="row">
        <div class="col-lg-12">
    
<nb-card>
    <nb-card-header  class="row">
        <p class="col-6">Department/Grades Base</p>
        <div class="col-3"></div>
    <button nbButton size="small" (click)="openModal(template1)">Accept Registrations</button>
                       </nb-card-header>

    <nb-card-body>
      
        <div class="col-md-6">
          <div class="row">
            <div class="col1">
              <h3>Users List</h3>
            </div>
            <div class="col2">
              <!-- Create New User  -->
              <button type="button" class="btn btn-primary pull-right" (click)="openModal(template)">
                Create New User
              </button>
            </div>
          </div>
      
          <!-- Modal Template of New User Form -->
          <ng-template #template>
            <div class="modal-header">
              <h4 class="modal-title pull-left">Create New User</h4>
              <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label for="name">User Name</label>
                  <input type="text" class="form-control" name="name" placeholder="Name" [(ngModel)]="name">
                  <label for="fathername">Father Name</label>
                  <input type="text" class="form-control" name="fathername" placeholder="Father Name" [(ngModel)]="fathername">
                  <label for="gender">Gender</label>
                  <input type="text" class="form-control" name="gender" placeholder="eg:male or female" [(ngModel)]="gender">
                  <label for="department">Department</label>
                  <input type="text" class="form-control" name="department" placeholder="eg:CSE" [(ngModel)]="department">
                  <label for="address">Address</label>
                  <input type="checkbox" class="form-control" name="address" placeholder="Address" [(ngModel)]="address">
                </div>
                <button type="button" class="btn btn-default" *ngIf="!user.id" (click)="createUser(name,fathername,gender,department,address);">Create</button>
                <button type="button" class="btn btn-default" *ngIf="user.id" (click)="updateUser(name,fathername,gender,department,address);">Update</button>
              </form>
            </div>
          </ng-template>
      
          <ng-template #template1>
            <!--<div class="modal-header">
               <h4 class="modal-title pull-left">Create New User</h4>
              <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
              </button> 
            </div>-->
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <div class="row">
                    <div class="col-6">
                  <label for="name">Name</label>
                  <input type="text" class="form-control" name="name" placeholder="Name" [(ngModel)]="name">
                </div>
                <div class="col-3">
                  <label for="Year">Year</label>
                  <input type="text" class="form-control" name="year" placeholder="Year" [(ngModel)]="year">
                </div>
                <div class="col-3">
                  <label for="section">Section</label>
                <input type="text" class="form-control" name="section" placeholder="section" [(ngModel)]="section">
                                </div>
                </div>
                <div class="row">
                  <div class="col-6">
                  <label for="roll number">Roll Number</label>
                  <input type="text" class="form-control" name="roll" placeholder="roll number" [(ngModel)]="roll">
                </div>
                <div class="col-6">
                  <label for="address">Password</label>
                  <input type="password" class="form-control" name="password" placeholder="password" [(ngModel)]="password">
                </div>
                  </div>
                  <div class="row">
                      <div class="col-12">
                      <label for="department">Department/Grade</label>
                      <select id="department"   (change) = "changedata($event)" [(ngModel)]="department"
                      class="form-control">
                <option *ngFor="let dept of departments" [value]="dept.id">
                  {{dept.name}}
                </option>
              </select>
                  </div>
                </div>
                <div class="row">
                    <div class="col-12">
                    <label for="Papers Passed">Papers Passed</label>
                    <ng-multiselect-dropdown
  [placeholder]="'custom placeholder'"
  [data]="dropdownList"
  [(ngModel)]="selectedItems"
  [settings]="dropdownSettings"
  (onSelect)="onItemSelect($event)"
  (onSelectAll)="onSelectAll($event)"
>
</ng-multiselect-dropdown>
                </div>
              </div>
                <div class="row">
                    <div class="col-12">
                    <label for="Papers Undertaking">Papers Undertaking</label>
                    <ng-multiselect-dropdown
  [placeholder]="'custom placeholder'"
  [data]="dropdownList"
  [(ngModel)]="selectedItems"
  [settings]="dropdownSettings"
  (onSelect)="onItemSelect($event)"
  (onSelectAll)="onSelectAll($event)"
>
</ng-multiselect-dropdown>
                </div>
                </div>
                <div class="row">
                    <div class="col-12">
                    <label for="Papers Failed">Papers Failed</label>
                    <ng-multiselect-dropdown
  [placeholder]="'custom placeholder'"
  [data]="dropdownList"
  [(ngModel)]="selectedItems"
  [settings]="dropdownSettings"
  (onSelect)="onItemSelect($event)"
  (onSelectAll)="onSelectAll($event)"
>
</ng-multiselect-dropdown>
                </div>
              </div>
              <div class="row">
                  <div class="col-6">
                  <label for="email">Email</label>
                  <input type="text" class="form-control" name="email" placeholder="Email" [(ngModel)]="email">
                </div>
                <div class="col-6">
                  <label for="address">Phone</label>
                  <input type="password" class="form-control" name="phone" placeholder="phone" [(ngModel)]="phone">
                </div>
                  </div>
                </div>
                <div class="buttons-row step-content">
                    <button primary nbButton hero>
                        Disable Profile
                      </button>
                      <button primary nbButton hero>
                         Dashboard
                        </button>
                        <button primary nbButton hero>
                            Send Mail
                          </button>
                </div>
              </form>
            </div>
          </ng-template>
          <!-- List of All Users  -->
          <table class="table table-bordered table-striped table-hover">
            <thead>
              <tr>
                <th class="text-center">ID</th>
                <th class="text-center">Name</th>
                <th class="text-center">FatherName</th>
                <th class="text-center">Gender</th>
                <th class="text-center">Department</th>
                <th class="text-center">Address</th>
                <th class="text-center">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of users; let i = index">
                <td>{{ i+1 }}</td>
                <td>{{ user.name }}</td>
                <td>{{ user.fathername }}</td>
                <td>{{ user.gender }}</td>
                <td>{{ user.department }}</td>
                <td>{{ user.address }}</td>
                <td>
                  <!-- Show Edit User Form  -->
                  <button class="btn btn-info" (click)="showEditUserForm(user, template)">
                    <i class="fa fa-edit"></i>
                  </button>
                  <!-- Remove User  -->
                  <button class="btn btn-danger" (click)="removeUser(user.id)">
                    <i class="fa fa-minus"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
   
    </nb-card-body>
    </nb-card> 
    </div>
    </div>
  